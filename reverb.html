<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>REVERB</title>

    <link type="text/css" href="jquery-ui-1.8.13.custom/css/smoothness/jquery-ui-1.8.13.custom.css" rel="Stylesheet" />	

    <script type="text/javascript" src="jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="jquery-ui-1.8.13.custom/js/jquery-ui-1.8.13.custom.min.js"></script>
    <script type="text/javascript" src="jquery.jtweetsanywhere-1.2.1.min.js"></script>

    <link rel="stylesheet" type="text/css" href="jquery.jtweetsanywhere-1.2.1.css" />
</head> 
<body>
    <img src="reverb.jpg" />
    Twitter name: <input type="text" name="twittername" value="andreashhh"/>
    List name: <input type="text" name="list" value="rvrb"/>
    <button id="go_button">Go!</button>
    <div id="reverb_level">Reverb level: 0</div>
    <div id="filtered">0</div>
    <div id="slider"></div>
    <div id="tweetFeed">
    </div>
    <script>
    var revlevel = 1;
    var filtered = 0;
    myTweetFilter = function(tweet, options)
	{
	    var enough_reverb = tweet.retweet_count >= revlevel;
            if (!enough_reverb){
              filtered++;
              $('#filtered').html('Filtered: ' + filtered);
            }
	    return enough_reverb; 
	};
    
    
$(document).ready(function(){
    $('#go_button').click(function(){load_tweets();});
    $('#slider').slider();
    $('#slider').slider({
	   slide: function(event, ui) {  revlevel = ui.value; $('#reverb_level').html('Reverb level :' + ui.value); },
	change: function(event, ui) {load_tweets();}
});
});

load_tweets = function(){
    filtered = 0;
    $('#tweetFeed').jTweetsAnywhere({
        username: 'andreashhh',
        list:'rvrb',
        count: 5,
        tweetFilter: myTweetFilter,
        showTweetBox: { label: '<span style="color: #D1C7BA">Spread the word ...</span>' }
    });
        $('#tweetFeed').jTweetsAnywhere({
        username: 'andreashhh',
        list: 'rvrb',
        count: 5,
        showTweetBox: { label: '<span style="color: #D1C7BA">Spread the word ...</span>' }
    });


};

</script>
</body>
</html>


